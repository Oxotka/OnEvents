# Руководство для участников (CONTRIBUTING)

Спасибо, что хотите помочь развитию **OnEvents** — агрегатора мероприятий, связанных с 1С. Этот документ объясняет, какие есть способы участия и как оформить вклад так, чтобы его можно было быстро и удобно принять. Обязательно прочитайте [Руководство для контрибьюторов в проекты с открытым исходным кодом](https://github.com/alei1180/open-source-contributor-guide)

## Быстрые ссылки
- [Руководство для участников (CONTRIBUTING)](#руководство-для-участников-contributing)
  - [Быстрые ссылки](#быстрые-ссылки)
  - [Как сообщить об ошибке](#как-сообщить-об-ошибке)
  - [Как предложить улучшение](#как-предложить-улучшение)
  - [Как добавить событие](#как-добавить-событие)
    - [1) Через Pull Request (предпочтительно)](#1-через-pull-request-предпочтительно)
    - [2) По e‑mail](#2-по-email)
  - [Локальный запуск и проверка](#локальный-запуск-и-проверка)
    - [Вариант A — Docker (самый простой)](#вариант-a--docker-самый-простой)
    - [Вариант B — Python](#вариант-b--python)
  - [Правила оформления Pull Request](#правила-оформления-pull-request)
  - [Стиль и форматирование](#стиль-и-форматирование)
  - [Структура репозитория](#структура-репозитория)
  - [Кодекс поведения](#кодекс-поведения)
  - [Лицензирование вкладов](#лицензирование-вкладов)
  - [Где задавать вопросы](#где-задавать-вопросы)

---

## Как сообщить об ошибке
Перед созданием issue:
1. Проверьте, нет ли уже такого отчёта в разделе Issues.
2. Убедитесь, что используете актуальную версию репозитория.

При создании issue укажите:
- **Краткое описание** проблемы;
- **Шаги воспроизведения** (по возможности минимальные);
- **Ожидаемое поведение** и **фактический результат**;
- Версию/дату коммита, среду запуска (Docker/локально), ОС/браузер.

По возможности прикрепите скриншоты/логи.

## Как предложить улучшение
Если у вас есть идея новой функции или улучшения:
1. Создайте issue с описанием: мотивация, сценарии использования, возможные риски.
2. Обсудите с участниками. Часто это позволяет уточнить границы задачи.
3. После согласования — готовьте Pull Request.

## Как добавить событие
Добавить событие можно двумя способами:

### 1) Через Pull Request (предпочтительно)
1. **Склонируйте** репозиторий и создайте ветку от `main` (например, `feat/add-event-<кратко>`).
2. В папке `events/` создайте **новый YAML‑файл** с уникальным именем (рекомендуем `YYYY-MM-DD-<slug>.yml`).
3. Заполните поля по шаблону (см. `event_template.yml`):
   ```yml
   title: "Название события"        # Название события
   date: "2025-09-15"               # Дата начала события, формат YYYY-MM-DD
   city: "Москва"                   # Город, где будет проходить событие (либо Online)
   address: "ул. Арбат, 12"         # Адрес проведения (Если форма проведения Online, то адрес пустой)
   icon: "default.jpg"              # Имя файла логотипа (если нет — default.jpg)
   description: "Краткое описание события."
   registration_url: "https://example.com/register"  # Ссылка на регистрацию
   ```
4. (Опционально) Добавьте логотип события в папку `icons/` (PNG/JPG). Квадратное изображение, размером не менее **512×512**, разумного веса (<300 КБ). В поле `icon` укажите имя файла.
5. Соберите проект локально и убедитесь, что событие корректно отображается (см. ниже [Локальный запуск и проверка](#локальный-запуск-и-проверка)).
6. Откройте Pull Request. В описании приложите ссылку на регистрацию/источник и, при необходимости, скриншоты результата.

### 2) По e‑mail
Отправьте данные о событии на **info@onevents.ru** (название, дата, город, адрес, краткое описание, ссылка на регистрацию, логотип). Мы добавим событие сами.

## Локальный запуск и проверка
Вы можете собрать сайт двумя способами.

### Вариант A — Docker (самый простой)
```bash
docker build -t onevents .
docker run --rm -p 8080:80 onevents
```
После запуска сайт будет доступен на `http://localhost:8080`.

### Вариант B — Python
Требуется установленный Python 3.
```bash
python -m venv .venv
# Активируйте окружение в зависимости от вашей ОС
# Windows (CMD):       .venv\Scripts\activate.bat
# Windows (PowerShell): .venv\Scripts\Activate.ps1
# Linux/macOS:         source .venv/bin/activate

pip install -r requirements.txt
python create_web.py
```
Собранный сайт появится в папке `site/`. Откройте `site/index.html` в браузере и проверьте добавленное событие.

## Правила оформления Pull Request
Чтобы ускорить ревью и принять его без задержек:
- Делайте **небольшие, тематические PR** — один PR = одна логическая задача.
- Описывайте **что и зачем** вы изменили; при наличии issue — укажите номер (`Closes #123`).
- Убедитесь, что проект **собирается локально** без ошибок.
- Не коммитьте артефакты сборки и локальные файлы (`site/`, `.venv/`, `__pycache__/` и т. п.).
- Именуйте коммиты понятно (кратко о сути изменения). Допустимы Conventional Commits, но не обязательны.
- Для изменений в интерфейсе/верстке приложите скриншоты до/после.

**Чек‑лист перед отправкой PR:**
- [ ] Файл события добавлен в `events/` и корректно заполнен;
- [ ] Логотип (при наличии) добавлен в `icons/` и указан в `icon:`;
- [ ] Локальная сборка/запуск прошли успешно;
- [ ] Нет лишних/временных файлов в коммите;
- [ ] Обновлена документация, если поведение поменялось.

## Стиль и форматирование
- **YAML**: соблюдайте отступы пробелами, используйте формат даты `YYYY-MM-DD`; строки с пробелами и спецсимволами берите в кавычки.
- **Имена файлов**: латиница, строчные, дефисы вместо пробелов (например, `2025-09-15-pgconf-spb.yml`).
- **Текст**: кратко и по делу; избегайте маркетинговой «воды». Описание помогает посетителю быстро понять, о чём событие.
- **Python/HTML/CSS** (если правите генератор/верстку): придерживайтесь общепринятых стилей (PEP 8 для Python), избегайте хардкода путей, проверяйте, что изменённая верстка корректно отображается в современных браузерах.

## Структура репозитория
- `events/` — описания событий в формате YAML;
- `icons/` — логотипы событий;
- `img/` — общие изображения сайта;
- `web/` — шаблоны/статические файлы сайта;
- `create_web.py` — скрипт сборки сайта из YAML;
- `event_template.yml` — шаблон события;
- `Dockerfile`, `requirements.txt`, `README.md` — инфраструктура и документация.

## Кодекс поведения
Мы придерживаемся принципов уважительного и доброжелательного общения. Будьте вежливы, действуйте добросовестно, помогайте новичкам. Любые формы дискриминации и токсичное поведение недопустимы. Нарушения могут привести к блокировке участия.

## Лицензирование вкладов
Проект распространяется по лицензии **MIT**. Отправляя Pull Request, вы соглашаетесь, что ваш вклад лицензируется на условиях MIT и может быть изменён для приведения к общему стилю проекта.

## Где задавать вопросы
- Создавайте обсуждение в **Issues** — это прозрачно и помогает другим.
- Пишите на **info@onevents.ru**, если вопросы.

Спасибо за вашу помощь! Любой вклад — от исправления опечаток до новых функций — делает OnEvents полезнее для сообщества.
